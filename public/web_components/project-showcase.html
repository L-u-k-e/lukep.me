<<link rel="import" href="../bower_components/paper-styles/paper-styles.html">
<dom-module id="project-showcase">
	<style>
		:host {
			display: inline-block;
			margin: 30px;
			box-sizing: border-box;
			border: 1px solid #ccc;
			@apply(--shadow-elevation-2dp);
			border-radius: 3px;
			width:400px;
		}
		@media(max-width: 500px) {
			:host {
				width: 100%;
				margin: 30px 0px;
			};
		}
		:host > header {
			display: block;
			padding: 10px 15px;
			font-weight: bold;
			background-color:  #F5f5f5;
		}
		:host > header i {
			float: right;
			cursor: pointer;	
		}

		li {
			list-style-type: none;
			border-top: 1px solid #ccc;
			padding-bottom: 10px;
		}
		li header {
			padding: 10px 15px;
			font-weight: bold;
			color: #4078C0;
			cursor: pointer;
		}

		li header .language {
			font-weight: normal;
			color: #333;
			float: right;
			font-size: 12px;	
			font-weight: 600;
		}
		

		li p {
			padding: 0px 25px;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			font-size: 12px;
		}
		li p.minus {
			white-space: normal;
			text-overflow: visible;
			overflow: visible;
		}
		
		li:hover { cursor: pointer; }
		li:hover header {text-decoration: underline;}
	
	</style>
	<template>
		<header> 
			Open Source Projects
			<i class$="{{fa_expander}}" on-click="_toggleExpansion"></i> 
		</header>
		<ul>	
		<template is="dom-repeat" items="{{projects}}">
			<li link="{{item.link}}" on-tap="_openTab">
				<header>
					<span>{{item.title}}</span>
					<span class="language">{{item.language}}</span>
				</header>
				<p class$="{{expander}}">{{item.desc}}</p>
			</li>
		</template>
		</ul>
	</template>
	<script>
		Polymer({
			is: 'project-showcase',
			properties: {
				projects: Array,
				expander: {
					type: String,
					value: 'plus'
				},
				fa_expander: {
					type: String,
					computed: '_getIconClass(expander)'
				}
			},
			_getIconClass: function (expander) {
				return 'fa fa-' + expander;
			},
			_toggleExpansion: function () {
				if (this.expander == 'plus') this.expander = 'minus';
				else this.expander = 'plus';
				this.fire('expansion-toggled', {current_state: this.expander});
			},
			_openTab: function (e) {
				window.open(e.currentTarget.link, '_blank');
			}
		});
	</script>
</dom-module>